<div itemprop="articleBody" data-page-indentifier="/courses/nettoyez-et-decrivez-votre-jeu-de-donnees/recherchez-les-correlations" class="js-isRestrictablePage js-course-container js-smilize js-userCanWatchVideo">
<div class="userContent js-userContent">
<p id="r-4717718" >
Vous l’aurez compris, étudier les relations entre les variables, c’est important.</p>
<p id="r-4717719" >
Pour être plus formel, la notion de relation entre variables est appelée<strong>
corrélation</strong>
. Dire que deux variables sont corrélées signifie que si on connaît la valeur d’une variable,<em>
alors</em>
il est possible d’avoir une indication (plus ou moins précise) sur la valeur d’une autre variable.</p>
<p id="r-4717721" >
Dans le chapitre précédent, on étudiait déjà des corrélations, en se posant la question : sachant l'âge d'un individu, peut-on avoir une indication plus précise sur la valeur de la variable « intérêt pour un album donné » ?</p>
<h3 id="r-4773281" >
La causalité</h3>
<aside id="r-4728846" data-claire-semantic="warning">
<p id="r-4717722" >
Dès que l’on parle de corrélation, il y a une erreur, très fréquente, à ne<em>
JAMAIS</em>
commettre : celle de dire qu’il y a un lien de cause à effet d’une variable sur l’autre.</p>
</aside>
<p id="r-4717724" >
S’il y a corrélation entre une variable<math>
$\(A\)$</math>
et une variable<math>
$\(B\)$</math>
, est-ce<math>
$\(A\)$</math>
qui est la cause de<math>
$\(B\)$</math>
, ou<math>
$\(B\)$</math>
qui est la cause de<math>
$\(A\)$</math>
? Il est souvent impossible de le savoir sans effectuer une expérimentation. Le plus souvent, c’est un troisième (ou plusieurs) facteur<math>
$\(C\)$</math>
(qui n’est d’ailleurs pas toujours observé) qui est la cause de<math>
$\(A\)$</math>
et de B .</p>
<p id="r-4717726" >
Il est aussi possible que 2 variables soient corrélées sans qu’il n’y ait aucun lien entre elles. On les appelle les corrélation fallacieuses («<em>
spurious correlations</em>
» en anglais).</p>
<p id="r-4717728" >
<img id="r-4798616" src="https://s3.eu-west-1.amazonaws.com/user.oc-static.com/upload/2017/11/20/1511218349727_ex_SpuriousCorrelation.jpeg" alt="">
</p>
<aside id="r-4728847" data-claire-semantic="information">
<p id="r-4717730" >
Pour en voir d’autres, c’est<a href="http://www.tylervigen.com/spurious-correlations">
par ici</a>
. Certaines sont amusantes !</p>
</aside>
<p id="r-4717732" >
En fait, pour avoir le droit d’établir un lien de cause à effet entre des variables, il faut construire une expérimentation qui respecte certaines conditions. Ces conditions ne sont en général pas vérifiées lorsque votre échantillon ne provient pas de cette expérimentation conçue spécialement.</p>
<p id="r-4717734" >
Si vous aimez les paradoxes mathématiques, il y en a un qui traite du lien de cause à effet, c’est le paradoxe de Simpson. Tout bon Data Analyst devrait être conscient de ce paradoxe. Une vidéo très bien expliquée et très compréhensible a été réalisée dans<a href="https://www.youtube.com/watch?v=vs_Zzf_vL2I">
série Science Étonnante</a>
.</p>
<aside id="r-4728849" data-claire-semantic="information">
<p id="r-4728848" >
A la minute 7:58 de cette vidéo, vous apprendrez par exemple que si 2 variables sont corrélées, agir sur la valeur de l'une des variables ne fait pas forcément changer la seconde. ;)</p>
</aside>
<p id="r-4717735" >
Vous verrez, ce paradoxe vous bluffera !</p>
<h3 id="r-4773283" >
Réfléchissons ...</h3>
<p id="r-4773132" >
Comme souvent dans ce cours, je vais un fois de plus faire appel à votre imagination. Il est toujours bon d’avoir de l’imagination.</p>
<p id="r-4773133" >
Aujourd’hui, il vous prend la soudaine envie de faire des statistiques sur les habitants de votre ville. Vous souhaitez connaître leurs boissons préférées parmi celles-ci : café, thé, eau, ou autre.</p>
<p id="r-4773134" >
Vous réalisez donc votre enquête en vous rendant dans les cafés pour observer discrètement les clients et noter la boisson qu’ils ont commandé. Vous souhaitez rassembler un échantillon de 100 personnes. Pour chacune d’elle, vous avez noté la boisson commandée et le nom du café dans lequel vous l’avez observée. On appellera ces deux variables<em>
nom café</em>
et<em>
boisson préférée</em>
. Voici la distribution que vous obtenez pour la variable<em>
boisson préférée</em>
:</p>
<ul id="r-4773141" >
<li id="r-4773136" >
<p id="r-4773135" >
café : 50 personnes sur 100, soit<math>
$\(f_{cafe}\)$</math>
= 50%</p>
</li>
<li id="r-4773138" >
<p id="r-4773137" >
thé : 30 personnes sur 100, soit<math>
$\(f_{the}\)$</math>
= 30%</p>
</li>
<li id="r-4773140" >
<p id="r-4773139" >
autres boissons : 20 personnes sur 100, soit<math>
$\(f_{autre}\)$</math>
= 20%</p>
</li>
</ul>
<p id="r-4773142" >
Vous continuez votre enquête en vous rendant dans un café où il y a 10 clients. Combien de personnes vous attendez-vous à voir face à un thé ? Intuitivement, vous vous attendez à trouver 3 personnes qui ont commandé un thé car vous savez qu’en général, 30% des personnes commandent un thé. Vous avez donc réalisé le calcul suivant : 30%*10 = 3<br>
De même, vous vous attentez à voir 5 personnes avec un café, et 2 personnes avec d’autres boissons.</p>
<p id="r-4773143" >
A votre grande surprise, il y a en fait 9 personnes avec du thé, et seulement 1 avec un café ! Cela diffère beaucoup de ce à quoi vous vous attentiez : il y a 90% de personnes qui boivent du thé. C'est peut-être un hasard, alors vous décidez de revenir régulièrement pour savoir si ce 90% se confirme de jour en jour ou pas. Effectivement, ce pourcentage reste à peu près constant même après de nombreuses observations !</p>
<p id="r-4798621" >
Mais vous comprenez vite pourquoi en regardant le nom du café : « Salon de thé Chez Luc ». Vous êtes dans un café un peu spécial : c’est un salon de thé ! Les clients qui fréquentent cet endroit sont donc principalement des amateurs de thé.</p>
<p id="r-4773144" >
On dit alors que le fait d’<em>
aimer le thé</em>
et le fait de<em>
fréquenter le salon de thé Chez Luc</em>
ne sont pas<strong>
indépendants</strong>
. Si deux événements ne sont pas indépendants, alors on s’attend à trouver une corrélation entre ceux-ci. Vous souvenez de la question que l'on se pose pour les corrélations :<em>
Sachant que l'on connaît la valeur d'une variable, peut-on avoir une indication un peu plus précise sur la valeur d'une autre variable ?</em>
</p>
<div id="r-4773146" data-claire-semantic="question">
<p id="r-4773145" >
Sachant qu’une personne fréquente le café<em>
Salon de thé Chez Luc</em>
, peut-on avoir une indication un peu plus précise sur sa boisson préférée ?</p>
</div>
<p id="r-4773147" >
La réponse est oui ! Sans connaître la valeur de la variable<em>
nom café</em>
, alors on suppose que la variable<em>
boisson préférée</em>
suivra cette distribution : 50% pour le café, 30% pour le thé et 20% pour les autres boissons.<strong>
MAIS</strong>
, si on connaît la valeur de la variable<em>
nom café</em>
(ici :<em>
Salon de thé Chez Luc</em>
), alors on peut avoir une meilleure indication sur la variable<em>
boisson préférée</em>
; ici on s'attendra à trouver bien plus que 30%*10=3 personnes devant une tasse de thé.</p>
<p id="r-4773148" >
Appelons<math>
$\(I\)$</math>
l'événement<em>
"préférer le thé"</em>
et<math>
$\(J\)$</math>
l'événement<em>
"être au Salon de thé Chez Luc"</em>
. Voici ce qu'il faut retenir :</p>
<aside id="r-4773296" data-claire-semantic="warning">
<p id="r-4773149" >
Si deux événements<math>
$\(I \)$</math>
et<math>
$\(J\)$</math>
sont indépendants, alors on s'attend à ce que le nombre d'individus qui satisfont à la fois<math>
$\(I\)$</math>
et<math>
$\(J\)$</math>
(appelons ce nombre<math>
$\(n_{ij}\)$</math>
) soit égal à<math>
$\(f_{i} * n_{j}\)$</math>
(c'est le calcul que vous aviez fait en entrant dans le bar : 30%*10=3). Au contraire, plus<math>
$\(n_{ij}\)$</math>
sera différent de<math>
$\(f_{i} * n_{j}\)$</math>
, plus on aura de raison de penser que<math>
$\(I\)$</math>
et<math>
$\(J\)$</math>
ne sont pas indépendants.</p>
</aside>
<p id="r-4773151" >
Quand vous avez vu que<math>
$\(n_{ab}\)$</math>
était en fait égal à 9, vous vous êtes dit que le fait d'être au salon de thé Chez Luc n'était pas indépendant d'aimer le thé !</p>
<h3 id="r-4773286" >
Le tableau de contingence</h3>
<p id="r-4773311" >
On peut résumer tout cela dans un tableau appelé<strong>
tableau de contingence</strong>
(où X =<em>
nom café</em>
et Y =<em>
boisson préférée</em>
) :</p>
<p id="r-4773313" >
<img id="r-4773312" src="https://user.oc-static.com/upload/2017/11/03/15097459932589_contingence.png" alt="">
</p>
<aside id="r-4773282" data-claire-semantic="information">
<p id="r-4717737" >
On voit en première ligne les effectifs de<em>
Chez Luc</em>
: 1, 9 et 0. On retrouve aussi très facilement les fréquences sur la population globale en dernière ligne : 50% (café), 30% (thé), 20% (autres).</p>
</aside>
<p id="r-4773255" >
Allez, un peu de vocabulaire pour finir ce chapitre :</p>
<ul id="r-4773302" >
<li id="r-4773298" >
<p id="r-4773297" >
Chacune des valeurs du tableau de contingence (hors colonnes<em>
TOTAL</em>
) est appelée<strong>
effectif conjoint</strong>
<math>
$\(n_{ij}\)$</math>
.</p>
</li>
<li id="r-4773300" >
<p id="r-4773299" >
L'ensemble effectifs conjoints est appelé<strong>
distribution conjointe empirique</strong>
de (<em>
nom café</em>
,<em>
boisson préféré</em>
).</p>
</li>
<li id="r-4773301" >
<p id="r-4773306" >
La dernière ligne (TOTAL) est appelée<strong>
distribution marginale empirique</strong>
de<em>
boisson préférée</em>
, et la dernière colonne (TOTAL) est appelées<strong>
distribution marginale empirique</strong>
de<em>
nom café.</em>
</p>
</li>
<li id="r-4773308" >
<p id="r-4773307" >
L'ensemble des effectifs conjoints de la première ligne (<em>
Chez Luc</em>
) est appelée<strong>
distribution conditionnelle empirique de<em>
boisson préférée</em>
étant donné que<em>
nom café = Chez Luc</em>
</strong>
.</p>
</li>
</ul>
<p id="r-4773309" >
</p>
</div>
<div class="js-courseSelementActions sideActions">
<ul class="sideActions__container">
<li>
<a class="sideActions__item js-courseElementActions-copyUrl js-tooltip" href="#" data-tooltip="Copier le lien" data-tooltip-done="Lien copié !">
#</a>
</li>
</ul>
</div>
</div>
