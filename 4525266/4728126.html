<div itemprop="articleBody" data-page-indentifier="/courses/nettoyez-et-decrivez-votre-jeu-de-donnees/presentez-une-variable-sous-forme-de-tableau" class="js-isRestrictablePage js-course-container js-smilize js-userCanWatchVideo">
<div class="userContent js-userContent">
<p id="r-4728136" >
Il n'y a pas que les histogrammes dans la vie !</p>
<p id="r-4728146" >
Il est aussi possible de présenter des variables sous forme de tableau. C'est un peu moins beau certes, mais dans certains cas, cette représentation est mieux adaptée ou complémentaire d'une représentation graphique. Nous allons étudier ici les 4 cas correspondant aux 4 types de variables.</p>
<h3 id="r-4728205" >
Donnons des noms à ce que nous étudions</h3>
<p id="r-4728196" >
Pour que nous puissions communiquer vous et moi, nous devons parler un langage commun. Nous allons donc nommer les différents objets que nous manipulerons dans ce chapitre.</p>
<p id="r-4728197" >
Nous travaillerons ici avec l'échantillon des relevés bancaires, composés d'opérations. Notons<math>
$\(n\)$</math>
le nombre d'opérations bancaires ; c'est la taille de notre échantillon.</p>
<p id="r-4728198" >
Ensuite, la variable que nous étudierons s’appellera<math>
$\(X\)$</math>
.</p>
<p id="r-4728199" >
<math>
$\(X\)$</math>
n'a rien de très concret : c'est juste une<strong>
variable</strong>
. Par exemple,<em>
montant</em>
est une variable.</p>
<p id="r-4728200" >
Dans notre jeu de données, on a plusieurs<strong>
valeurs</strong>
pour la variable<em>
montant</em>
: 1.43, 80, 2.20, etc. Ici, plus rien de théorique : c'est du concret ! En effet, on a de<em>
vraies</em>
valeurs sous les yeux. Le nombre de valeurs présentes dans notre échantillon est de<math>
$\(n\)$</math>
. Ainsi, on peut noter ces valeurs<math>
$\((x_1,...,x_n)\)$</math>
.</p>
<aside id="r-4728202" data-claire-semantic="information">
<p id="r-4728201" >
Quand on parle de variable, on préfère la nommer avec une majuscule. Par contre, ce qui est une<em>
observation</em>
(= une réalisation) de la variable, on le note par des lettres minuscules. Ici,<math>
$\((x_1,...,x_n)\)$</math>
est une réalisation observée de la variable aléatoire<math>
$\(X\)$</math>
.</p>
</aside>
<h4 id="r-4728207" >
Cas des variables qualitatives et quantitatives discrètes</h4>
<p id="r-4728206" >
Si<math>
$\(X\)$</math>
est qualitative (ou même quantitative discrète), cela signifie qu'elle peut prendre plusieurs modalités. Par exemple,<em>
categ</em>
peut prendre les modalités "COURSES", "LOYER", "TRANSPORTS", etc. Ces modalités, nous les appellerons<math>
$\(\{a_1,...,a_k\}\)$</math>
, où<math>
$\(k\)$</math>
est le nombre de modalités.</p>
<h4 id="r-4728222" >
Cas des variables quantitatives continues</h4>
<p id="r-4728221" >
Pour présenter les variables quantitatives continues, nous agrégerons les valeurs de la variable<math>
$\(X\)$</math>
en classes, qui seront au nombre de<math>
$\(k\)$</math>
. Ces classes seront notées ainsi :<math>
$\(\{[a_1',a_2'[,...,[a_k',a_{k+1}'[\}\)$</math>
</p>
<h3 id="r-4728244" >
Présentons !</h3>
<h4 id="r-4728243" >
Pour les variables qualitatives</h4>
<p id="r-4728241" >
Pour les variables qualitatives, il suffit juste de compter le nombre de valeurs pour chaque modalité. Ce nombre est appelé<em>
effectif</em>
de la modalité.</p>
<p id="r-4728242" >
Ainsi, pour une modalité<math>
$\(a_i\)$</math>
(où<math>
$\(i\)$</math>
est compris entre<math>
$\(1\)$</math>
et<math>
$\(k\)$</math>
bien entendu !), on appelle l'effectif<math>
$\(n_i\)$</math>
. Si on additionne les effectifs de toutes les modalités, on retombe sur<math>
$\(n\)$</math>
: la taille de l'échantillon.</p>
<p id="r-4728256" >
Si on divise l'effectif par<math>
$\(n\)$</math>
, on obtient alors la<strong>
fréquence</strong>
, qui est un nombre compris entre 0 et 1. Vous l'aurez deviné, si on additionne les fréquences des toutes les modalités, on obtient 1 !</p>
<p id="r-4728351" >
Voici donc comment on présente usuellement une variable qualitative : formellement, et avec l'exemple de la variable<em>
categ</em>
:</p>
<p id="r-4728358" >
<img id="r-4728357" src="https://user.oc-static.com/upload/2017/10/30/15094037686833_tab1.png" alt="">
</p>
<aside id="r-4728359" data-claire-semantic="information">
<p id="r-4728261" >
Cet exemple vaut pour une variable qualitative. Plus précisément, si elle est qualitative ordinale, alors il suffit d'ordonner les<math>
$\(\{a_1,...,a_k\}\)$</math>
dans l'ordre croissant.</p>
</aside>
<h4 id="r-4728387" >
Pour les variables quantitatives</h4>
<h5 id="r-4728384" >
Variables discrètes</h5>
<p id="r-4728381" >
Pour les variables quantitatives discrètes, on peut reprendre le tableau précédent, et y ajouter une colonne qui donne la<strong>
fréquence cumulée</strong>
. La fréquence cumulée d'une modalité<math>
$\(a_i\)$</math>
, c'est juste la somme des fréquences de toutes les modalités inférieures ou égales à<math>
$\(a_i\)$</math>
. On la note<math>
$\(F\)$</math>
. Voici l'exemple de la variable<em>
quart_mois</em>
:</p>
<p id="r-4728391" >
<img id="r-4728402" src="https://user.oc-static.com/upload/2017/10/18/15083431865732_tab2.png" alt="">
</p>
<aside id="r-4728383" data-claire-semantic="information">
<p id="r-4728382" >
La fréquence cumulée de la dernière modalité (<math>
$\(a_k\)$</math>
) est 1.</p>
</aside>
<h5 id="r-4728386" >
Variables continues</h5>
<p id="r-4728385" >
Pour les variables continues, il suffit de remplacer les \{a_1,...,a_k\} par les classes, comme nous l'avons dit plus haut. Voilà ce que ça donne, avec la variable<em>
montant</em>
:</p>
<p id="r-4728412" >
<img id="r-4728411" src="https://user.oc-static.com/upload/2017/10/18/15083433852387_tab3.png" alt="">
</p>
<h3 id="r-4728755" >
Et le code ?</h3>
<p id="r-4728746" >
En Python, c'est plutôt simple. Il suffit (presque) d'une ligne de code par colonne. Voici le code qui a généré le tableau récapitulatif de la variable<em>
quart_mois</em>
.</p>
<pre id="r-4728747" >
<code data-claire-semantic="python">
effectifs = data["quart_mois"].value_counts() modalites = effectifs.index # l'index de effectifs contient les modalités tab = pd.DataFrame(modalites, columns = ["quart_mois"]) # création du tableau à partir des modalités tab["n"] = effectifs.values tab["f"] = tab["n"] / len(data) # len(data) renvoie la taille de l'échantillon</code>
</pre>
<p id="r-4728748" >
Pour calculer les effectifs, on fait appel à<code data-claire-semantic="text">
value_counts()</code>
sur la variable à étudier. Cette méthode renvoie un objet Series dont les valeurs sont les effectifs, et dont l'index contient les modalités. (lignes 1 et 2)</p>
<aside id="r-4728750" data-claire-semantic="information">
<p id="r-4728749" >
Besoin d'un petit rappel sur les objets Series et leurs index ?<a href="http://pandas.pydata.org/pandas-docs/stable/dsintro.html#series">
C'est par ici</a>
;)</p>
</aside>
<p id="r-4728751" >
A partir des modalités, on crée le tableau<code data-claire-semantic="text">
tab</code>
(ligne 4), auquel on ajoute la colonne des effectifs (ligne 5) puis la colonne des fréquences (ligne 6).</p>
<p id="r-4728752" >
Pour calculer les fréquences cumulées, il suffit de 2 lignes en plus. L'une trie les valeurs, et l'autre calcule la somme cumulée des fréquences :</p>
<pre id="r-4728753" >
<code data-claire-semantic="python">
tab = tab.sort_values("quart_mois") # tri des valeurs de la variable X (croissant) tab["F"] = tab["f"].cumsum() # cumsum calcule la somme cumulée</code>
</pre>
<p id="r-4728754" >
</p>
<p id="r-4728413" >
</p>
<h3 id="r-4728428" >
Aller plus loin : lien avec les histogrammes</h3>
<p id="r-4728421" >
Mais, à y regarder de plus près... dans ces tableaux, quand on prend les<math>
$\(\{a_1,...,a_k\}\)$</math>
et qu'on les place sur l'axe horizontal d'un graphique, et quand on place les<math>
$\(f_1,...,f_k\)$</math>
sur l'axe vertical, on obtient les graphiques du chapitre précédent (histogramme, diagramme en tuyaux d'orgues, etc.)</p>
<p id="r-4728422" >
De même, si ce sont les<math>
$\(F_1,...F_k\)$</math>
que l'on place sur l'axe vertical, alors on obtient un diagramme des fréquences cumulées ! Coïncidence ? o_O Je ne pense pas...</p>
<p id="r-4728431" >
</p>
</div>
<div class="js-courseSelementActions sideActions">
<ul class="sideActions__container">
<li>
<a class="sideActions__item js-courseElementActions-copyUrl js-tooltip" href="#" data-tooltip="Copier le lien" data-tooltip-done="Lien copié !">
#</a>
</li>
</ul>
</div>
</div>
