<div itemprop="articleBody" data-page-indentifier="/courses/nettoyez-et-decrivez-votre-jeu-de-donnees/recentrez-vous-avec-les-mesures-de-tendance-centrale" class="js-isRestrictablePage js-course-container js-smilize js-userCanWatchVideo">
<div class="userContent js-userContent">
<p id="r-4763496" data-claire-element-id="8856241">Vous devez vous rendre en voiture à un entretien d'embauche, loin de chez vous, dans une autre ville que la vôtre. Vous vous demandez à quelle heure il faut partir pour arriver là bas à 15h. Comme vous avez beaucoup de choses à faire le matin, vous ne souhaitez pas partir trop tôt, mais vous voulez quand même être sûr d'être à l'heure.</p><p id="r-4730252" data-claire-element-id="8856261">Le trajet que vous devrez faire, vous le connaissez peu. Mais heureusement, l'un de vos ami le parcourt tous les jours, et il connaît la route par cœur.</p><p id="r-4730253" data-claire-element-id="8619993">Vous lui demandez donc :</p><p id="r-4730256" data-claire-element-id="8788341"><em>Combien de temps dure le trajet entre les deux villes ?</em> Il vous répond : <em>Tout dépend si la circulation est bonne ou pas. La plupart du temps, je met entre 40 min et 45 min.</em></p><p id="r-4730257" data-claire-element-id="8619997">Penchons-nous sur cette phrase. Votre ami a l'habitude du trajet : il l'a parcouru peut-être 1000 fois ! A chaque fois, il a retenu (plus ou moins inconsciemment) le temps de trajet. Nous avons donc ici un échantillon de taille 1000, avec une variable quantitative continue : la temps de trajet entre les 2 villes.</p><p id="r-4730258" data-claire-element-id="8619998">Même si le temps de ce trajet peut en théorie prendre des valeurs comprises entre 0 et l'infini, vous vous doutez bien qu'elles se <em>concentrent</em> quand même autour d'une certaine valeur. Ce que vous souhaitez savoir ici, c'est avoir un ordre d'idée d'où (sur un axe de 0 à l'infini) se <em>concentrent</em> les valeurs des temps de trajet.</p><div id="r-4730260" data-claire-element-id="8620000" data-claire-semantic="question"><p id="r-4730259" data-claire-element-id="8619999">Tu emploies le terme <em>se concentrent</em>. Dans <em>concentrer</em>, il y a le mot <em>centre</em> non ?</p></div><p id="r-4730261" data-claire-element-id="8620271">Tout à fait ! Nous arrivons donc à l'objet de ce chapitre : les <strong>mesures de tendance centrale</strong>. Nous allons en voir 3, et devinez quoi : elles commencent toutes par un M !</p><h3 id="r-4730342" data-claire-element-id="8856535">Les mesures de tendance centrale</h3><h4 id="r-4730485" data-claire-element-id="8856442">Le mode</h4><blockquote id="r-4798452" data-claire-element-id="8788343"><p id="r-4798451" data-claire-element-id="8788342"><strong>La plupart du temps, je met entre 40 et 45min.</strong></p></blockquote><p id="r-4798453" data-claire-element-id="8788361">Quand votre ami vous dit cela, il vous donne une mesure de tendance centrale qui s'appelle <strong>le mode</strong>.</p><p id="r-4730483" data-claire-element-id="8856441">Pour les variables qualitatives, ou pour les variables quantitatives discrètes, le mode est la modalité ou la valeur la plus fréquente. Dans notre relevé bancaire, le mode de la variable <em>categ</em> est "Autre", car la modalité "Autre" est présente 212 fois dans l'échantillon, et que toutes les autres modalités ("loyer", "courses", etc.) sont présentes moins de fois.</p><p id="r-4730541" data-claire-element-id="8621141">Pour les variables quantitatives continues, on travaille dans le cas agrégé, en regroupant les valeurs par classes. La <strong>classe modale</strong> est la classe la plus fréquente. Votre ami a découpé sa variable en tranches de 5 minutes, et a déterminé que la tranche la plus fréquente était <math>$\([40min;45min[\)$</math> .</p><h4 id="r-4730833" data-claire-element-id="8856533">La moyenne</h4><p id="r-4730826" data-claire-element-id="8621574">Vous répondez donc à votre ami : <em>Oui, mais je ne peux pas me contenter de la durée la plus fréquente : car si la deuxième durée la plus fréquente est de 65 à 70 minutes, il faut que je parte beaucoup plus tôt !</em> Il répond alors :</p><blockquote id="r-4730828" data-claire-element-id="8788382"><p id="r-4730827" data-claire-element-id="8788381"><strong>Oui tu as raison. En fait je met en moyenne 60 minutes par trajet, car il y a souvent des embouteillages.</strong></p></blockquote><p id="r-4730829" data-claire-element-id="8621577">Cela change tout : heureusement que vous lui avez demandé de préciser, vous seriez arrivé en retard ! Ici, votre ami vous a répondu en termes de <strong>moyenne</strong>.</p><p id="r-4730861" data-claire-element-id="8621621">La moyenne, vous la connaissez-tous. Pour calculer la moyenne de valeurs, on additionne celles-ci, puis on divise le résultat par le nombre de valeurs.</p><p id="r-4730862" data-claire-element-id="8788401">Il est courant d'associer la notion de moyenne à la notion d'équilibre et de centre de gravité. Pourquoi ? Imaginez que vous avez 10 valeurs numériques. Vous prenez un bâton, que vous graduez. Sur cette graduation, vous marquez au feutre l'emplacement de vos 10 valeurs, puis vous fixez au bâton une balle sur chacune des 10 marques. Après avoir calculé la moyenne des 10 valeurs, vous l'inscrivez également sur votre bâton. Si vous souhaitez faire tenir votre bâton en équilibre, à l'horizontale, il vous faudra trouver son centre de gravité. Vous me voyez venir : le centre de gravité sera pile-poil là où vous aurez placé la moyenne des 10 valeurs !</p><aside id="r-4730863" data-claire-element-id="8788403" data-claire-semantic="warning"><p id="r-4730831" data-claire-element-id="8788402"> En supposant que le poids du bâton soit négligeable par rapport au poids des balles, qui quant à elles, sont toutes de même poids.</p></aside><figure id="r-4765743" data-claire-element-id="8856532"><img id="r-4765741" data-claire-element-id="8696411" src="https://user.oc-static.com/upload/2017/10/31/15094709121631_barycentre.jpeg" alt="Le centre de gravité est situé à 30"><figcaption>Le centre de gravité est situé à 30.</figcaption></figure><p id="r-4730832" data-claire-element-id="8788406">Oui mais sur notre bâton... si l'une des valeurs est très différente des autres, sa balle sera très éloignée des autres sur le bâton : et ce dernier sera totalement déséquilibré, juste à cause d'une seule valeur !</p><h4 id="r-4730854" data-claire-element-id="8856534">La médiane</h4><p id="r-4730844" data-claire-element-id="8788408">Derrière le problème de bâton déséquilibré, vous aurez reconnu le concept d'outlier. Comme nous venons de le voir, la moyenne est une mesure <em>peu robuste</em> aux outliers.</p><p id="r-4730845" data-claire-element-id="8729416">Alors, à propos de votre trajet à parcourir, vous demandez à votre ami : <em>Quand tu me dis que tu mets en moyenne 60min, j'imagine que tu considères dans ton calcul les rares fois durant lesquelles il y avait de la neige, et que tu as mis 4h à faire la route ? Ce sont des outliers, autant ne pas les prendre en compte car c'est l'été, et il n'y aura pas de neige ! </em>Ce à quoi il vous répond :</p><blockquote id="r-4730847" data-claire-element-id="8621633"><p id="r-4730846" data-claire-element-id="8621632"><strong>Oui effectivement. Je vais alors formuler la chose autrement : disons que la moité des trajets que j'ai effectué ont pris plus de 55min, et l'autre moitié ont pris moins de 55min.</strong></p></blockquote><p id="r-4730848" data-claire-element-id="8621634"> Ici, votre ami vous parle en termes de <strong>médiane</strong>.</p><p id="r-4730690" data-claire-element-id="8621271">La médiane, (notée <em>Med</em>), est la valeur telle que le nombre d’observations supérieures à cette valeur est égal au nombre d’observations inférieures à cette valeur.</p><p id="r-4730721" data-claire-element-id="8621501">En gros, pour trouver la médiane de vos <math>$\(n\)$</math> valeurs, il faut commencer par les trier. Une fois triées, on appelle <math>$\(x_{(1)}\)$</math> la première valeur, <math>$\(x_{(2)}\)$</math> la deuxième valeur, ... , et <math>$\(x_{(n)}\)$</math> la dernière valeur. La médiane, c'est la valeur qui sera exactement au milieu du classement, soit</p><p id="r-4730796" data-claire-element-id="8621511"><math>$\[Med = x_{(\frac{n+1}{2})}\]$</math></p><p id="r-4730792" data-claire-element-id="8621503">Ainsi, sur <math>$\(n=999\)$</math> trajets, la médiane est <math>$\(x_{(500)}\)$</math> = 55min.</p><div id="r-4730777" data-claire-element-id="8621601" data-claire-semantic="question"><p id="r-4730776" data-claire-element-id="8621600">Ton calcul marche bien car 999 est impair. Mais s'il y a 1000 trajets, la médiane est-elle la 500e valeur ou la 501e valeur ? Si on choisit la 500e, alors il y a 499 valeurs en dessous et 500 valeurs au dessus. Mais si on choisit la 501e, alors il y a 500 valeurs en dessous et 499 valeurs au dessus : dans les 2 cas, c'est déséquilibré !</p></div><p id="r-4730691" data-claire-element-id="8621512">Effectivement. Dans ce cas, on coupe la poire en deux : on place la médiane au centre de la 500e et de la 501e valeur. Ainsi, s'il y a eu 1000 trajets, et que la 500e valeur vaut <math>$\(x_{(500)}\)$</math> = 54min30sec, et que la 501e vaut <math>$\(x_{(501)}\)$</math>  = 55min30sec, alors on coupe en deux et on prend 55min.</p><p id="r-4730778" data-claire-element-id="8621491">Plus formellement, si <math>$\(n\)$</math> est pair, la médiane vaut</p><p id="r-4730786" data-claire-element-id="8621492"><math>$\[Med = \frac{1}{2}(x_{(\frac{n}{2})}+x_{(\frac{n}{2}+1)})\]$</math></p><p id="r-4730542" data-claire-element-id="8620894"></p><h3 id="r-4730546" data-claire-element-id="8789985">Du côté du code</h3><p id="r-4730545" data-claire-element-id="8697236">Difficile de faire plus simple ici : une ligne de code par indicateur ! Prenons l'exemple de la variable <em>montant</em> de nos relevés de comptes :</p><pre id="r-4766057" data-claire-element-id="8697237"><code data-claire-semantic="python">data['montant'].mean()
data['montant'].median()
data['montant'].mode()</code></pre><p id="r-4766058" data-claire-element-id="8697238">Chacune de ses lignes renvoie une valeur, sauf la ligne 3 qui renvoie un  <code data-claire-semantic="text">pd.Series</code>  , car une distribution peut avoir plusieurs modes (voir la section<em> Aller plus loin</em>).</p><p id="r-4766059" data-claire-element-id="8697275">Les montants des opérations sont très hétérogènes : il y a des dépenses (à montant négatif) parfois grosses (les loyers par exemple), souvent petites (courses, téléphone, etc.), et il y a des rentrées d'argent (à montant positif), peu fréquentes mais grosses. Difficile donc d'interpréter la moyenne (très sensible aux valeurs atypiques) qui vaut ici <strong>2.87€</strong>. On a le même problème pour la médiane qui vaut <strong>-9.6€</strong>. Le fait qu'elle soit négative nous indique cependant qu'il y a plus de dépenses que d'entrées d'argent. Par contre, le mode nous indique que la plupart des opérations tournent autour de -<strong>1.6€</strong>. Ici, les 3 mesures sont très éloignées les unes des autres.</p><p id="r-4766060" data-claire-element-id="8697256">Pour avoir des montants d'opérations plus hétérogènes, je vous propose de calculer ces 3 mesures pour <em>chaque</em> catégorie d'opération. Au sein d'une catégorie, les montants devraient être moins éparpillés puisque les opérations sont de même nature. Je vous propose donc une boucle for, qui itérera sur chacune des catégories :</p><pre id="r-4766067" data-claire-element-id="8697315"><code data-claire-semantic="python">for cat in data["categ"].unique():
    subset = data[data.categ == cat] # Création du sous-échantillon
    print("-"*20)
    print(cat)
    print("moy:\n",subset['montant'].mean())
    print("med:\n",subset['montant'].median())
    print("mod:\n",subset['montant'].mode())
    subset["montant"].hist() # Crée l'histogramme
    plt.show() # Affiche l'histogramme</code></pre><p id="r-4766061" data-claire-element-id="8697258">Pour chaque catégorie, on crée un sous échantillon (<em>subset</em>) qui contient uniquement les opérations de la catégorie en cours. On affiche en lignes 5 à 7 les 3 mesures, et on affiche également l'histogramme pour mettre en perspectives les 3 mesures. A vous d'interpréter vos résultats !</p><p id="r-4766070" data-claire-element-id="8697261"></p><h3 id="r-4730547" data-claire-element-id="8856539">Aller plus loin : Sur un histogramme</h3><p id="r-4823072" data-claire-element-id="8856536">Sur un histogramme, le mode est le "point le plus haut" de la distribution, la médiane est la valeur qui divise la surface en deux et la moyenne est le centre de gravité de la distribution, comme sur cette illustration :</p><figure id="r-4777054" data-claire-element-id="8856538"><img id="r-4777052" data-claire-element-id="8729795" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Visualisation_mode_median_mean.svg/280px-Visualisation_mode_median_mean.svg.png" alt="(source : commons.wikimedia.org, licence GFDL)"><figcaption>(source : commons.wikimedia.org, licence GFDL)</figcaption></figure><p id="r-4765799" data-claire-element-id="8788867"></p><p id="r-4765801" data-claire-element-id="8696565"></p><h3 id="r-4730698" data-claire-element-id="8856542">Aller plus loin : Distributions plurimodales</h3><p id="r-4730856" data-claire-element-id="8696445">Plus généralement, il arrive que l'on extrapole la définition du mode en l'assimilant au(x) pic(s) d'une distribution. Le mode n’est donc pas obligatoirement unique. Lorsqu’une distribution n’a qu’un seul pic, on parle de distribution unimodale. Il arrive aussi qu’une distribution présente deux ou plusieurs pics : on parle alors de distribution bimodale ou plurimodale. Donner le nombre de modes d'une distribution est dans une statistique intéressante en présence d'une distribution plurimodale.</p><figure id="r-4765759" data-claire-element-id="8856541"><img id="r-4765757" data-claire-element-id="8696446" src="https://user.oc-static.com/upload/2017/10/31/15094717834941_plurimodal.png" alt="Une distribution bimodale"><figcaption>Une distribution bimodale</figcaption></figure><p id="r-4798457" data-claire-element-id="8788355"></p>
</div>
<div class="js-courseSelementActions sideActions">
<ul class="sideActions__container">
<li>
<a class="sideActions__item  js-courseElementActions-copyUrl  js-tooltip" href="#" data-tooltip="Copier le lien" data-tooltip-done="Lien copié !">
#
</a>
</li>
</ul>
</div>
</div>