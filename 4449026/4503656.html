<div itemprop="articleBody" data-page-indentifier="/courses/initiez-vous-a-lalgebre-relationnelle-avec-le-langage-sql/comprenez-limportance-des-cles" class="js-isRestrictablePage js-course-container js-smilize js-userCanWatchVideo">
<div class="userContent js-userContent">
<video id="r-4709394" src="https://vimeo.com/album/233476803">
<a href="https://vimeo.com/album/233476803">
https://vimeo.com/album/233476803</a>
</video>
<p id="r-4503661" >
Je ne vous ai pas tout dit à propos du modèle relationnel. J'ai oublié une chose très importante :</p>
<aside id="r-4503706" data-claire-semantic="warning">
<p id="r-4503662" >
Une relation ne peut contenir deux tuples identiques : chaque ligne est donc unique !</p>
</aside>
<p id="r-4503707" >
</p>
<h3 id="r-4567068" >
Réfléchissons...</h3>
<p id="r-4567066" >
Cette contrainte ne devrait normalement pas nous poser de problème, même si nous souhaitons représenter deux objets identiques. Si nous reprenons l'exemple de nos pommes, il est tout à fait possible que deux pommes distinctes aient exactement les mêmes caractéristiques :</p>
<table id="r-4503754" >
<tbody id="r-4503753" >
<tr id="r-4503716" >
<td id="r-4503709" >
<p id="r-4503708" >
<strong>
identifiant</strong>
</p>
</td>
<td id="r-4503711" >
<p id="r-4503710" >
<strong>
masse</strong>
</p>
</td>
<td id="r-4503713" >
<p id="r-4503712" >
<strong>
diamètre</strong>
</p>
</td>
<td id="r-4503715" >
<p id="r-4503714" >
<strong>
couleur</strong>
</p>
</td>
</tr>
<tr id="r-4503725" >
<td id="r-4503718" >
<p id="r-4503717" >
1</p>
</td>
<td id="r-4503720" >
<p id="r-4503719" >
151 g</p>
</td>
<td id="r-4503722" >
<p id="r-4503721" >
8.3 cm</p>
</td>
<td id="r-4503724" >
<p id="r-4503723" >
rouge</p>
</td>
</tr>
<tr id="r-4503734" >
<td id="r-4503727" >
<p id="r-4503726" >
2</p>
</td>
<td id="r-4503729" >
<p id="r-4503728" >
169 g</p>
</td>
<td id="r-4503731" >
<p id="r-4503730" >
9.1 cm</p>
</td>
<td id="r-4503733" >
<p id="r-4503732" >
jaune</p>
</td>
</tr>
<tr id="r-4503743" >
<td id="r-4503736" >
<p id="r-4503735" >
3</p>
</td>
<td id="r-4503738" >
<p id="r-4503737" >
134 g</p>
</td>
<td id="r-4503740" >
<p id="r-4503739" >
8.0 cm</p>
</td>
<td id="r-4503742" >
<p id="r-4503741" >
jaune</p>
</td>
</tr>
<tr id="r-4503752" >
<td id="r-4503745" >
<p id="r-4503744" >
4</p>
</td>
<td id="r-4503747" >
<p id="r-4503746" >
134 g</p>
</td>
<td id="r-4503749" >
<p id="r-4503748" >
8.0 cm</p>
</td>
<td id="r-4503751" >
<p id="r-4503750" >
jaune</p>
</td>
</tr>
</tbody>
</table>
<p id="r-4503755" >
Ici, les pommes 3 et 4 ont les mêmes caractéristiques. Cependant, les lignes correspondantes ne sont pas identiques, car la valeur de leurs attributs<em>
identifiant</em>
est différente :<code data-claire-semantic="text">
3</code>
et<code data-claire-semantic="text">
4</code>
.</p>
<p id="r-4503756" >
Cela nous amène à l'<em>
identification</em>
des tuples d'une relation. C'est là qu'interviennent les clés !</p>
<p id="r-4567067" >
</p>
<h3 id="r-4503762" >
Qu'est-ce qu'une clé ?</h3>
<p id="r-4503758" >
Dans la vie quotidienne, une clé sert à ouvrir une porte pour<strong>
accéder</strong>
à votre maison. Une caractéristique essentielle d'une clé est qu'elle doit être<strong>
unique</strong>
, car si votre clé est identique à celle de la maison de votre voisin, il se pose un problème évident !</p>
<p id="r-4503759" >
Dans le modèle relationnel, une clé a donc pour vocation d'<strong>
accéder</strong>
à un tuple, et donc d'identifier ce dernier.</p>
<p id="r-4503760" >
Ainsi, pour une relation donnée, une clé est un<em>
groupe d'attribut minimum déterminant un tuple unique.</em>
</p>
<aside id="r-4510816" data-claire-semantic="information">
<p id="r-4503801" >
Autrement dit, si nous pouvons être sûrs que n'importe quelle ligne peut être retrouvée en connaissant la valeur de quelques-uns de ses attributs, c'est que ces quelques attributs forment une clé !</p>
<p id="r-4702752" >
Cette illustration (qui n'a rien de formel, et qui est une pure vue de l'esprit) vous aidera peut-être à visualiser ce concept :</p>
<p id="r-4702754" >
<img id="r-4702753" src="https://user.oc-static.com/upload/2017/10/05/15072142629728_CLES.png" alt="">
</p>
</aside>
<p id="r-4503802" >
Dans notre exemple des pommes, l'attribut<em>
identifiant</em>
est une clé, car si je vous dis…</p>
<blockquote id="r-4503804" >
<p id="r-4503803" >
Donne-moi la pomme dont l'identifiant est 2 !</p>
</blockquote>
<p id="r-4503761" >
… vous savez exactement quelle ligne me donner, car l'identifiant de chaque pomme est unique !</p>
<p id="r-4503805" >
Cependant, si je vous demande…</p>
<blockquote id="r-4503807" >
<p id="r-4503806" >
Donne-moi la pomme dont la masse est de 169 grammes !</p>
</blockquote>
<p id="r-4503808" >
… dans ce cas, vous pourriez me donner la pomme numéro 2. Mais si j'ajoute à ma relation une autre pomme qui a aussi une masse de 169 grammes, vous ne saurez plus laquelle des deux pommes choisir. L'attribut<em>
masse</em>
n'est donc pas une clé.</p>
<p id="r-4555061" >
</p>
<h3 id="r-4503919" >
Un peu d’entraînement</h3>
<p id="r-4503809" >
Entraînons-nous à repérer des clés avec une relation que nous appellerons<strong>
voiture</strong>
, qui représente des voitures possédées par des personnes<em>
ayant la nationalité française</em>
(ce détail aura son importance pour la suite) :</p>
<table id="r-4503916" >
<tbody id="r-4503915" >
<tr id="r-4503824" >
<td id="r-4503811" >
<p id="r-4503810" >
<strong>
immatriculation</strong>
</p>
</td>
<td id="r-4503813" >
<p id="r-4503812" >
<strong>
pays_immatriculation</strong>
</p>
</td>
<td id="r-4503815" >
<p id="r-4503814" >
<strong>
couleur</strong>
</p>
</td>
<td id="r-4503817" >
<p id="r-4503816" >
<strong>
nombre_places</strong>
</p>
</td>
<td id="r-4503819" >
<p id="r-4503818" >
<strong>
propriétaire</strong>
</p>
</td>
<td id="r-4503821" >
<p id="r-4503820" >
<strong>
prop_num_secu</strong>
</p>
</td>
<td id="r-4503823" >
<p id="r-4503822" >
<strong>
prop_num_voiture</strong>
</p>
</td>
</tr>
<tr id="r-4503839" >
<td id="r-4503826" >
<p id="r-4503825" >
2983-AA</p>
</td>
<td id="r-4503828" >
<p id="r-4503827" >
France</p>
</td>
<td id="r-4503830" >
<p id="r-4503829" >
bleue</p>
</td>
<td id="r-4503832" >
<p id="r-4503831" >
5</p>
</td>
<td id="r-4503834" >
<p id="r-4503833" >
Luc</p>
</td>
<td id="r-4503836" >
<p id="r-4503835" >
1134212</p>
</td>
<td id="r-4503838" >
<p id="r-4503837" >
1</p>
</td>
</tr>
<tr id="r-4503854" >
<td id="r-4503841" >
<p id="r-4503840" >
1923-BD</p>
</td>
<td id="r-4503843" >
<p id="r-4503842" >
France</p>
</td>
<td id="r-4503845" >
<p id="r-4503844" >
verte</p>
</td>
<td id="r-4503847" >
<p id="r-4503846" >
7</p>
</td>
<td id="r-4503849" >
<p id="r-4503848" >
Lucia</p>
</td>
<td id="r-4503851" >
<p id="r-4503850" >
2021726</p>
</td>
<td id="r-4503853" >
<p id="r-4503852" >
1</p>
</td>
</tr>
<tr id="r-4503869" >
<td id="r-4503856" >
<p id="r-4503855" >
PLT-28-190</p>
</td>
<td id="r-4503858" >
<p id="r-4503857" >
Portugal</p>
</td>
<td id="r-4503860" >
<p id="r-4503859" >
bleue</p>
</td>
<td id="r-4503862" >
<p id="r-4503861" >
7</p>
</td>
<td id="r-4503864" >
<p id="r-4503863" >
Gaël</p>
</td>
<td id="r-4503866" >
<p id="r-4503865" >
1012612</p>
</td>
<td id="r-4503868" >
<p id="r-4503867" >
1</p>
</td>
</tr>
<tr id="r-4503884" >
<td id="r-4503871" >
<p id="r-4503870" >
2383-ZN</p>
</td>
<td id="r-4503873" >
<p id="r-4503872" >
France</p>
</td>
<td id="r-4503875" >
<p id="r-4503874" >
noire</p>
</td>
<td id="r-4503877" >
<p id="r-4503876" >
9</p>
</td>
<td id="r-4503879" >
<p id="r-4503878" >
Leïla</p>
</td>
<td id="r-4503881" >
<p id="r-4503880" >
2125312</p>
</td>
<td id="r-4503883" >
<p id="r-4503882" >
2</p>
</td>
</tr>
<tr id="r-4503899" >
<td id="r-4503886" >
<p id="r-4503885" >
1209-NQ</p>
</td>
<td id="r-4503888" >
<p id="r-4503887" >
France</p>
</td>
<td id="r-4503890" >
<p id="r-4503889" >
noire</p>
</td>
<td id="r-4503892" >
<p id="r-4503891" >
5</p>
</td>
<td id="r-4503894" >
<p id="r-4503893" >
Leïla</p>
</td>
<td id="r-4503896" >
<p id="r-4503895" >
2125312</p>
</td>
<td id="r-4503898" >
<p id="r-4503897" >
1</p>
</td>
</tr>
<tr id="r-4503914" >
<td id="r-4503901" >
<p id="r-4503900" >
2634-OS</p>
</td>
<td id="r-4503903" >
<p id="r-4503902" >
France</p>
</td>
<td id="r-4503905" >
<p id="r-4503904" >
bleue</p>
</td>
<td id="r-4503907" >
<p id="r-4503906" >
5</p>
</td>
<td id="r-4503909" >
<p id="r-4503908" >
Gaël</p>
</td>
<td id="r-4503911" >
<p id="r-4503910" >
1162732</p>
</td>
<td id="r-4503913" >
<p id="r-4503912" >
1</p>
</td>
</tr>
</tbody>
</table>
<aside id="r-4510821" data-claire-semantic="information">
<p id="r-4503921" >
Voici la signification des attributs :</p>
<ul id="r-4503924" >
<li id="r-4503923" >
<p id="r-4503922" >
<strong>
immatriculation</strong>
: numéro d'immatriculation de la voiture</p>
</li>
<li id="r-4503927" >
<p id="r-4503926" >
<strong>
pays_immatriculation</strong>
: pays dans lequel le véhicule est immatriculé</p>
</li>
<li id="r-4503929" >
<p id="r-4503928" >
<strong>
couleur</strong>
: couleur de la voiture</p>
</li>
<li id="r-4503931" >
<p id="r-4503930" >
<strong>
nombre_places</strong>
: nombre de places de la voiture</p>
</li>
<li id="r-4503933" >
<p id="r-4503932" >
<strong>
propriétaire</strong>
: prénom du propriétaire de la voiture</p>
</li>
<li id="r-4503935" >
<p id="r-4503934" >
<strong>
prop_num_secu</strong>
: numéro de sécurité sociale du propriétaire (chaque personne de nationalité française possède un numéro de sécurité sociale unique)</p>
</li>
<li id="r-4503937" >
<p id="r-4503936" >
<strong>
prop_num_voiture</strong>
: si un propriétaire possède plusieurs voitures, il peut les numéroter pour les repérer. S'il n'en possède qu'une, prop_num_voiture vaut 1. Par exemple, Leïla numérote ici ses voitures de cette manière : "1209-NQ est ma première voiture, et 2383-ZN est ma voiture numéro 2".</p>
</li>
</ul>
</aside>
<div id="r-4503939" data-claire-semantic="question">
<p id="r-4503938" >
Le groupe d'attributs [ immatriculation ] est-il une clé pour notre relation ?</p>
</div>
<p id="r-4503940" >
Non ! Même si en France, le numéro d'immatriculation d'une voiture est unique, notre relation est visiblement prévue pour contenir des voitures de pays différents. Or, il n'est pas exclu qu'un autre pays utilise (ou utilisera un jour) le même système d'immatriculation que la France. Dans ce cas, deux voitures dans le monde pourraient avoir le même numéro !</p>
<div id="r-4503942" data-claire-semantic="question">
<p id="r-4503941" >
Le groupe d'attributs [ immatriculation, pays_immatriculation ] est-il une clé pour notre relation ?</p>
</div>
<p id="r-4503943" >
Oui ! A condition de supposer qu'un numéro d'immatriculation ne peut pas être réattribué à un autre véhicule une fois qu'une voiture est détruite.</p>
<div id="r-4503945" data-claire-semantic="question">
<p id="r-4503944" >
Et le groupe [ immatriculation, pays_immatriculation, couleur ] ?</p>
</div>
<p id="r-4503946" >
Oui et Non... Comme nous venons de le voir, le groupe [ immatriculation , pays_immatriculation ] est déjà une clé. Ceci implique que deux lignes ne peuvent pas avoir la même valeur pour leurs attributs<em>
immatriculation</em>
et<em>
pays_immatriculation.</em>
</p>
<p id="r-4620501" >
De manière évidente, deux lignes ne peuvent donc pas avoir les mêmes valeurs pour les 3 attributs ci-dessus.</p>
<p id="r-4620502" >
Cependant, dans la définition de<em>
clé</em>
donnée plus haut, nous avons dit que le groupe d'attributs devait être minimal. Ici, notre groupe de 3 attributs n'est pas minimal. En effet, si on enlève l'attribut<em>
couleur</em>
, on se retrouve avec [ immatriculation, pays_immatriculation ] qui est une clé (on vient de le voir au cas précédent, j'espère que vous suivez ;) ).<em>
Couleur</em>
est donc inutile ici.</p>
<div id="r-4503948" data-claire-semantic="question">
<p id="r-4503947" >
Et le groupe [ prop_num_secu ] ?</p>
</div>
<p id="r-4503949" >
Non. Bon, certes, si nous avions une relation qui représentait des personnes de nationalité française, alors le numéro de sécurité sociale serait une clé. Mais ici, ce n'est pas le cas : notre relation représente des voitures, pas des personnes. Deux voitures peuvent avoir le même propriétaire, et donc avoir la même valeur pour l'attribut<em>
prop_num_secu.</em>
</p>
<div id="r-4503952" data-claire-semantic="question">
<p id="r-4503951" >
Et le groupe [ prop_num_secu, prop_num_voiture ] ?</p>
</div>
<p id="r-4503953" >
Oui, c'est une clé. En effet, si deux voitures ont le même propriétaire (identifié par<em>
prop_num_secu</em>
), elles ne peuvent pas avoir à la fois le même propriétaire ET le même<em>
prop_num_voiture</em>
.</p>
<aside id="r-4503957" data-claire-semantic="information">
<p id="r-4503956" >
Pour ceux qui veulent se "triturer" le cerveau : si nous enlevions la supposition selon laquelle les voitures sont possédées par des personnes de nationalité française, et qu'il existait un pays ayant la même numérotation de sécurité sociale qu'en France, alors ce dernier groupe d'attribut ne serait plus une clé !</p>
</aside>
<p id="r-4567071" >
</p>
<h3 id="r-4620543" >
En résumé</h3>
<ul id="r-4620542" >
<li id="r-4620537" >
<p id="r-4620536" >
Une clé, c'est un groupe d'attributs (= un groupe de colonnes).</p>
</li>
<li id="r-4620539" >
<p id="r-4620538" >
Pour qu'un groupe d'attribut soit une clé, il faut être sûr que deux tuples (= deux lignes) n'auront jamais des valeurs identiques pour ces attributs.</p>
</li>
<li id="r-4620541" >
<p id="r-4620540" >
Ce groupe d'attributs doit être minimal, c'est-à-dire que si on retire l'un des attributs de ce groupe, la phrase précédente n'est plus vérifiée.</p>
</li>
</ul>
</div>
<div class="js-courseSelementActions sideActions">
<ul class="sideActions__container">
<li>
<a class="sideActions__item js-courseElementActions-copyUrl js-tooltip" href="#" data-tooltip="Copier le lien" data-tooltip-done="Lien copié !">
#</a>
</li>
</ul>
</div>
</div>
