<main class="contentWithSidebar__content">
<div class="relative js-sidebar-container">
<div class="static">
<h2 itemprop="name" data-part-title="Créez du lien entre vos relations grâce aux clés étrangères" class="part-title">Créez du lien entre vos relations grâce aux clés étrangères</h2>
<section class="row space-bottom js-desktop-sticky-container">
<div class="col9 col11-s col__small-padding--right">
<div itemprop="articleBody" data-page-indentifier="/courses/initiez-vous-a-lalgebre-relationnelle-avec-le-langage-sql/creez-du-lien-entre-vos-relations-grace-aux-cles-etrangeres" class="js-isRestrictablePage js-course-container js-smilize js-userCanWatchVideo">
<div class="userContent js-userContent">
<video id="r-4709396" data-claire-element-id="8559241" src="https://vimeo.com/album/233477149"><a href="https://vimeo.com/album/233477149">https://vimeo.com/album/233477149</a></video><p id="r-4504251" data-claire-element-id="8023051">Nous avons pour le moment une relation qui contient des <strong>pommes</strong>. C'est bien, mais sachez que dans une base de données, il est très rare de ne trouver qu'une seule table ! Les applications informatiques qui utilisent des bases de données sont en général complexes et nécessitent de nombreuses tables.</p><p id="r-4567261" data-claire-element-id="8193461"> </p><h3 id="r-4567262" data-claire-element-id="8537373">Réfléchissons...</h3><p id="r-4504252" data-claire-element-id="8336041">En général, les tables d'une base de données ne sont pas indépendantes entre elles, elles sont liées.</p><p id="r-4620606" data-claire-element-id="8336042">Je décide par exemple d'avoir une relation <strong>pomme</strong>, et également une seconde relation <strong>variété</strong> destinée à répertorier les différentes variétés de pommes connues. Ces deux relations sont <em>liées</em> entre elles, car une pomme <strong>est</strong> d'une certaine variété. Il y a donc un lien entre la pomme et sa variété.</p><p id="r-4504253" data-claire-element-id="8068521">Dans le contexte d'un magasin de fruits, on peut dire que le prix d'une pomme dépend de sa variété. Le prix au kilogramme est donc une caractéristique propre à la variété. On aura donc dans la relation <strong>variété</strong> un attribut <em>prix_au_kilo </em>:</p><table id="r-4504317" data-claire-element-id="8203371"><caption>Variete</caption><tbody id="r-4504316" data-claire-element-id="8039937"><tr id="r-4504300" data-claire-element-id="8039895"><td id="r-4504297" data-claire-element-id="8017403"><p id="r-4504296" data-claire-element-id="8017402"><strong>libellé</strong></p></td><td id="r-4504299" data-claire-element-id="8017165"><p id="r-4504298" data-claire-element-id="8017164"><strong>prix_au_kilo</strong></p></td><td id="r-4511882" data-claire-element-id="8039892"><p id="r-4511881" data-claire-element-id="8039891"><strong>maturation</strong></p></td><td id="r-4511884" data-claire-element-id="8039894"><p id="r-4511883" data-claire-element-id="8039893"><strong>goût</strong></p></td></tr><tr id="r-4504305" data-claire-element-id="8039902"><td id="r-4504302" data-claire-element-id="8039897"><p id="r-4504301" data-claire-element-id="8039896">Ariane</p></td><td id="r-4504304" data-claire-element-id="8017170"><p id="r-4504303" data-claire-element-id="8017169">3.19</p></td><td id="r-4511886" data-claire-element-id="8039899"><p id="r-4511885" data-claire-element-id="8039898">tardive</p></td><td id="r-4511888" data-claire-element-id="8039901"><p id="r-4511887" data-claire-element-id="8039900">sucré/acidulé</p></td></tr><tr id="r-4504310" data-claire-element-id="8039909"><td id="r-4504307" data-claire-element-id="8039904"><p id="r-4504306" data-claire-element-id="8039903">Gala</p></td><td id="r-4504309" data-claire-element-id="8017175"><p id="r-4504308" data-claire-element-id="8017174">3.49</p></td><td id="r-4511890" data-claire-element-id="8039906"><p id="r-4511889" data-claire-element-id="8039905">précoce</p></td><td id="r-4511892" data-claire-element-id="8039908"><p id="r-4511891" data-claire-element-id="8039907">sucré</p></td></tr><tr id="r-4504315" data-claire-element-id="8039918"><td id="r-4504312" data-claire-element-id="8039911"><p id="r-4504311" data-claire-element-id="8039910">Reinette</p></td><td id="r-4504314" data-claire-element-id="8039913"><p id="r-4504313" data-claire-element-id="8039912">3.19</p></td><td id="r-4511894" data-claire-element-id="8039915"><p id="r-4511893" data-claire-element-id="8039914">mi-saison</p></td><td id="r-4511896" data-claire-element-id="8039917"><p id="r-4511895" data-claire-element-id="8039916">sucré</p></td></tr><tr id="r-4511905" data-claire-element-id="8039927"><td id="r-4511898" data-claire-element-id="8039920"><p id="r-4511897" data-claire-element-id="8039919">Boskoop</p></td><td id="r-4511900" data-claire-element-id="8039922"><p id="r-4511899" data-claire-element-id="8039921">2.99</p></td><td id="r-4511902" data-claire-element-id="8039924"><p id="r-4511901" data-claire-element-id="8039923">mi-saison</p></td><td id="r-4511904" data-claire-element-id="8039926"><p id="r-4511903" data-claire-element-id="8039925">acidulé</p></td></tr><tr id="r-4511914" data-claire-element-id="8039936"><td id="r-4511907" data-claire-element-id="8039929"><p id="r-4511906" data-claire-element-id="8039928">[...]</p></td><td id="r-4511909" data-claire-element-id="8039931"><p id="r-4511908" data-claire-element-id="8039930">[...]</p></td><td id="r-4511911" data-claire-element-id="8039933"><p id="r-4511910" data-claire-element-id="8039932">[...]</p></td><td id="r-4511913" data-claire-element-id="8039935"><p id="r-4511912" data-claire-element-id="8039934">[...]</p></td></tr></tbody></table><p id="r-4504318" data-claire-element-id="8336043">Si je prends une pomme, et que je veux connaître son prix au kilo, il faudra d'abord que je connaisse sa variété. Ensuite, à partir de sa variété, il faudra que je retrouve dans la table <strong>variété</strong> la ligne correspondante pour connaître le prix.</p><div id="r-4504320" data-claire-element-id="8017186" data-claire-semantic="question"><p id="r-4504319" data-claire-element-id="8017185">Retrouver une ligne dans une table ?!? Ce n'est pas justement le rôle des <strong>clés</strong> ?</p></div><p id="r-4504321" data-claire-element-id="8537372">Tout à fait ! Cette question nous amène au paragraphe suivant :</p><p id="r-4567306" data-claire-element-id="8193543"> </p><h3 id="r-4567308" data-claire-element-id="8559244">Les clés étrangères</h3><p id="r-4567307" data-claire-element-id="8354721">Dans notre relation <strong>variété</strong>, il y a une clé candidate : l'attribut <em>libellé</em>. Ainsi, si pour chaque ligne de la table <strong>pomme</strong> nous renseignons le nom de la variété dans une colonne, alors il sera possible, grâce à cette clé, de retrouver le prix au kilo. Voici à quoi pourrait ressembler notre nouvelle table <strong>pomme</strong> :</p><table id="r-4504378" data-claire-element-id="8354801"><caption>Pomme</caption><tbody id="r-4504377" data-claire-element-id="8048900"><tr id="r-4504332" data-claire-element-id="8017418"><td id="r-4504323" data-claire-element-id="8017409"><p id="r-4504322" data-claire-element-id="8017408"><strong>identifiant</strong></p></td><td id="r-4504325" data-claire-element-id="8017411"><p id="r-4504324" data-claire-element-id="8017410"><strong>masse</strong></p></td><td id="r-4504327" data-claire-element-id="8017413"><p id="r-4504326" data-claire-element-id="8017412"><strong>diamètre</strong></p></td><td id="r-4504329" data-claire-element-id="8017415"><p id="r-4504328" data-claire-element-id="8017414"><strong>couleur</strong></p></td><td id="r-4504331" data-claire-element-id="8017417"><p id="r-4504330" data-claire-element-id="8017416"><strong>nom_variété</strong></p></td></tr><tr id="r-4504343" data-claire-element-id="8048893"><td id="r-4504334" data-claire-element-id="8048892"><p id="r-4504333" data-claire-element-id="8048891">14</p></td><td id="r-4504336" data-claire-element-id="8017202"><p id="r-4504335" data-claire-element-id="8017201">142 g</p></td><td id="r-4504338" data-claire-element-id="8017204"><p id="r-4504337" data-claire-element-id="8017203">7.3 cm</p></td><td id="r-4504340" data-claire-element-id="8017206"><p id="r-4504339" data-claire-element-id="8017205">rouge</p></td><td id="r-4504342" data-claire-element-id="8039940"><p id="r-4504341" data-claire-element-id="8039939">Ariane</p></td></tr><tr id="r-4504354" data-claire-element-id="8048896"><td id="r-4504345" data-claire-element-id="8048895"><p id="r-4504344" data-claire-element-id="8048894">25</p></td><td id="r-4504347" data-claire-element-id="8017213"><p id="r-4504346" data-claire-element-id="8017212">182 g</p></td><td id="r-4504349" data-claire-element-id="8017215"><p id="r-4504348" data-claire-element-id="8017214">7.5 cm</p></td><td id="r-4504351" data-claire-element-id="8017217"><p id="r-4504350" data-claire-element-id="8017216">rouge</p></td><td id="r-4504353" data-claire-element-id="8039943"><p id="r-4504352" data-claire-element-id="8039942">Gala</p></td></tr><tr id="r-4504365" data-claire-element-id="8048899"><td id="r-4504356" data-claire-element-id="8048898"><p id="r-4504355" data-claire-element-id="8048897">16</p></td><td id="r-4504358" data-claire-element-id="8017224"><p id="r-4504357" data-claire-element-id="8017223">140 g</p></td><td id="r-4504360" data-claire-element-id="8017226"><p id="r-4504359" data-claire-element-id="8017225">7.9 cm</p></td><td id="r-4504362" data-claire-element-id="8017228"><p id="r-4504361" data-claire-element-id="8017227">rouge</p></td><td id="r-4504364" data-claire-element-id="8039946"><p id="r-4504363" data-claire-element-id="8039945">Ariane</p></td></tr><tr id="r-4504376" data-claire-element-id="8017242"><td id="r-4504367" data-claire-element-id="8017233"><p id="r-4504366" data-claire-element-id="8017232">[...]</p></td><td id="r-4504369" data-claire-element-id="8017235"><p id="r-4504368" data-claire-element-id="8017234">[...]</p></td><td id="r-4504371" data-claire-element-id="8017237"><p id="r-4504370" data-claire-element-id="8017236">[...]</p></td><td id="r-4504373" data-claire-element-id="8017239"><p id="r-4504372" data-claire-element-id="8017238">[...]</p></td><td id="r-4504375" data-claire-element-id="8017241"><p id="r-4504374" data-claire-element-id="8017240">[...]</p></td></tr></tbody></table><p id="r-4504426" data-claire-element-id="8537382">Dans la table <strong>pomme</strong>, la colonne <em>nom_variété</em> ne n'est pas une clé candidate. Cependant, cette colonne fait <em>quand même</em> référence à la clé primaire d'une autre table (la table <strong>variété</strong>). On dit donc que :</p><blockquote id="r-4504428" data-claire-element-id="8336047"><p id="r-4504427" data-claire-element-id="8336046">La colonne <em>nom_variété</em> est une <strong>clé étrangère</strong> référençant la colonne <em>libellé</em> de la table <strong>variété</strong>.</p></blockquote><p id="r-4504429" data-claire-element-id="8017424">Vous savez maintenant lier des tables grâce à des clés étrangères !</p><figure id="r-4627213" data-claire-element-id="8559243"><img id="r-4627211" data-claire-element-id="8354802" src="https://user.oc-static.com/upload/2017/08/28/1503910106308_CLE_ETRANGERE.png" alt=""><figcaption>"nom_varieté" est une clé étrangère qui référence la colonne "libellé" de la table variété.</figcaption></figure><aside id="r-4554292" data-claire-element-id="8159792" data-claire-semantic="warning"><p id="r-4554291" data-claire-element-id="8159791">La clé primaire d'une table <em>A</em> peut être composée de plusieurs colonnes. Si une table <em>B</em> veut référencer <em>A</em>, alors la clé étrangère sur <em>B</em> sera composée d'autant de colonnes que pour la clé primaire de <em>A</em>.</p></aside><aside id="r-4567366" data-claire-element-id="8193701" data-claire-semantic="information"><p id="r-4511915" data-claire-element-id="8159751">Pour indiquer qu'un attribut (ou groupe d'attributs) est une clé étrangère, on peut le spécifier en faisant suivre le nom de cet attribut (ou de chacun de ces attributs) par <em>[FK]</em>, qui signifie <em>foreign key</em> (clé étrangère en anglais).</p></aside><p id="r-4620607" data-claire-element-id="8336048"> </p><h3 id="r-4620616" data-claire-element-id="8336058">En résumé</h3><ul id="r-4620614" data-claire-element-id="8336056"><li id="r-4620609" data-claire-element-id="8336051"><p id="r-4620608" data-claire-element-id="8336050">Une clé étrangère sert à lier des relations (= des tables) entre elles.</p></li><li id="r-4620611" data-claire-element-id="8336053"><p id="r-4620610" data-claire-element-id="8336052">On dit qu'une clé étrangère d'une table A <strong>référence</strong> la clé primaire d'une table B.</p></li><li id="r-4620613" data-claire-element-id="8336055"><p id="r-4620612" data-claire-element-id="8336054">Une clé étrangère se dit en anglais <em>foreign key</em> (FK)</p></li></ul><p id="r-4620615" data-claire-element-id="8336057"> </p>
</div>
<div class="js-courseSelementActions sideActions">
<ul class="sideActions__container">
<li>
<a class="sideActions__item  js-courseElementActions-copyUrl  js-tooltip" href="#" data-tooltip="Copier le lien" data-tooltip-done="Lien copié !">
#
</a>
</li>
</ul>
</div>
</div>
<nav class="course-pagination    clearfix">
<a href="/courses/4449026/4504071?status=draft" class="button course-pagination__btn course-pagination__btn--previous">
<i class="icon-previous"></i>
<span>Choisissez votre clé primaire parmi les candidates</span>
</a>
<span class="course-pagination__separator"></span>
<a href="/courses/4449026/4567381?status=draft" class="button course-pagination__btn course-pagination__btn--next">
<span>Évitez la redondance</span>
<i class="icon-next"></i>
</a>
</nav>
<aside tabindex="-1" role="dialog" aria-labelledby="popin-view-restriction_popin_title" class="popin popin--illustrated  js-popin" id="popin-view-restriction">
<i class="popin__close-button icon-close js-close-button"></i>
<div class="popin__inner">
<div class="popin__illustrationWrapper">
<div class="popin__illustration illustration--balloon"></div>
</div>
<div class="popin__mainContainer">
<h3 id="popin-view-restriction_popin_title" class="popin__title  js-popin-title">Waouh !</h3>
<div class="popin__content  js-popin-content">
<div class="popin__contentWrapper">
<p>
Très heureux de voir que nos cours vous plaisent, déjà 5 pages lues aujourd'hui ! Vous pouvez continuer la lecture de nos cours en devenant un membre de la communauté d'OpenClassrooms. C'est gratuit !
</p>
<p>
Vous pourrez aussi suivre votre avancement dans le cours, faire les exercices et discuter avec les autres membres.
</p>
</div>
</div>
<div class="popin__actions  js-popin-actions">
<span class="u--inlineBlock">
<a class="button button--primary " href="/register">S'inscrire</a>
</span>
<span class="u--inlineBlock">
<a class="button button " href="/login">Se connecter</a>
</span>
</div>
</div>
</div>
</aside>
</div>
</section>
</div>
</div>
<script type="text/template" class="js-single-video-download-info">
            <div class="videoDownload js-download-video-popin-link">
                <a href="#popin-download-video" class="js-popin-activator">
                    <i class="icon-download videoDownload__icon"></i> Télécharger la vidéo
                </a>
            </div>
        </script>
<script type="text/template" class="js-video-download-forbidden">
            <div class="videoDownload">
                <i class="icon-info videoDownload__icon videoDownload__icon--rounded"></i> Pour télécharger les vidéos de ce cours, <a href="/premium">devenez Premium</a>
            </div>
        </script>
<script type="text/template" class="js-all-video-download-info">
            <div class="videoDownload js-download-video-popin-link">
                <a href="#popin-download-all-videos" class="js-popin-activator">
                    <i class="icon-download videoDownload__icon"></i> Télécharger toutes les vidéos de ce cours
                </a>
            </div>
        </script>
<div id="popin-not-certifying-yet_547212" class="popin" data-popin-title="Vous ne pouvez pas encore obtenir de certificat de réussite à l'issue de ce cours.
                    ">
<img alt="Exemple de certificat de réussite" src="//static.oc-static.com/prod/images/courses/certif.jpg">
</div>
<aside tabindex="-1" role="dialog" class="popin popin--small  js-popin" id="popin-download-all-videos">
<i class="popin__close-button icon-close js-close-button"></i>
<div class="popin__inner">
<div class="popin__mainContainer">
<i class="icon-video popin__icon  js-popin-icon"></i>
<div class="popin__content  js-popin-content">
<div class="popin__contentWrapper">
<p>
Vous allez télécharger un fichier zip de 2 050 Mo contenant toutes les vidéos de ce cours en haute définition.
</p>
</div>
</div>
<div class="popin__actions  js-popin-actions">
 <a class="button button--primary js-close-button" target="_blank" href="/components/courses/4449026/videos">Télécharger</a>
</div>
</div>
</div>
</aside>
<div id="popin-not-certifying-yet_296917" class="popin" data-popin-title="Vous ne pouvez pas encore obtenir de certificat de réussite à l'issue de ce cours.
                    ">
<img alt="Exemple de certificat de réussite" src="//static.oc-static.com/prod/images/courses/certif.jpg">
</div>
<aside tabindex="-1" role="dialog" class="popin popin--small  js-popin" id="popin-download-video">
<i class="popin__close-button icon-close js-close-button"></i>
<div class="popin__inner">
<div class="popin__mainContainer">
<i class="icon-video popin__icon  js-popin-icon"></i>
<div class="popin__content  js-popin-content">
<div class="popin__contentWrapper">
<p>
Choisissez la définition de votre vidéo :
</p>
</div>
</div>
<div class="popin__actions  js-popin-actions">
<span class="u--inlineBlock">
<a class="button button--primary js-download-video-popin-button-ld " href="#">Basse</a>
<br>
<small class="js-download-video-popin-button-legend-ld"></small>
</span>
<span class="u--inlineBlock">
<a class="button button--primary js-download-video-popin-button-md " href="#">Moyenne</a>
<br>
<small class="js-download-video-popin-button-legend-md"></small>
</span>
<span class="u--inlineBlock">
<a class="button button--primary js-download-video-popin-button-hd " href="#">Haute</a>
<br>
<small class="js-download-video-popin-button-legend-hd"></small>
</span>
</div>
</div>
</div>
</aside>
</main>