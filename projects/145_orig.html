<div class="course-content space-bottom-big">
<div class="userContent userContent--smallCourse js-userContent" data-javascript-enabled>
<h2>
Énoncé
</h2>
<aside data-claire-semantic="information">
<p>Ce projet doit être réalisé avec le suivi de votre mentor. Prenez contact avec lui pour en savoir plus.</p>
</aside>
<h3>Prérequis</h3>
<p>Pour ce projet, il vous faudra savoir manipuler au choix les bases du langage <strong>R</strong> ou du <strong>Python, </strong>et savoir utiliser dans ces langages des objets de type <em>Dataframes </em>(objets natifs du langage R, et disponibles dans la librairie <strong>Pandas</strong> de Python. Ce projet vous fera travailler - via les dataframes - les concepts de l'<strong>algèbre relationnelle</strong>, qu'il est bon de maîtriser. Il vous faudra également maîtriser les bases du langage <strong>SQL</strong>, notamment les <strong>requêtes</strong> SQL de type <strong>SELECT</strong>. Si vous êtes déjà habitués à ce type de requêtes, alors vous connaissez sûrement sans le savoir les concepts d'algèbre relationnelle nécessaires à ce projet. Enfin, il vous faudra savoir installer et requêter (en SQL) un <strong>système de gestions de bases de données </strong>au choix (cet énoncé ou votre mentor pourra vous aiguiller sur ce point).</p>
<p> </p>
<h3>Mise en situation</h3>
<p>Vous êtes intégré à une nouvelle équipe de chercheurs de la <a href="https://fr.wikipedia.org/wiki/Organisation_des_Nations_unies_pour_l%27alimentation_et_l%27agriculture">Food and Agriculture Organization of the United Nations</a> (FAO), l'un des organes qui compose l'ONU et dont l'objectif est d' « aider à construire un monde libéré de la faim ».</p>
<p>Votre équipe est chargée de réaliser une étude de grande ampleur sur le thème de la sous-nutrition dans le monde.</p>
<p>Le problème de la faim est complexe et peut avoir de multiples causes, différentes selon les pays. L’étape préliminaire de cette étude sera donc d’établir un “état de l’art” des recherches déjà publiées, mais également de mener une étude statistique destinée à orienter les recherches vers des pays particuliers, et de mettre en lumière différentes causes de la faim. Ainsi, une poignée de data analysts (dont vous !) a été sélectionnée pour mener cette étape préliminaire. Lors de la première réunion, vous avez été désigné pour mettre une place la base de données que votre équipe pourra requéter (en SQL) à souhait pour réaliser cette étude statistique.</p>
<h3>Les données</h3>
<p>Les données sont disponibles sur le site de la FAO, à cet endroit : <a href="http://www.fao.org/faostat/fr/#data">http://www.fao.org/faostat/fr/#data</a> .</p>
<p>En fonction des besoins exprimés plus bas dans cet énoncé, il vous appartiendra de choisir quelles données télécharger. Cependant, les rubriques qui vous seront utiles sont les suivantes :</p>
<ul>
<li><em>Bilans alimentaires</em></li>
<li><em>Sécurité alimentaire</em>, puis dans cette rubrique, <em>Données de la sécurité alimentaire</em> .<br>Cette rubrique contient de nombreux indicateurs, mais nous ne nous intéresserons ici qu’à l’indicateur <em>Nombre de personnes sous-alimentées</em></li>
</ul>
<h3> </h3>
<h3>Votre mission</h3>
<p>Vous êtes prêts ? Alors c'est parti ! :soleil: </p>
<h4>Appréhendez le domaine dans lequel vous évoluez</h4>
<p>Pour une bonne analyse, le data analyst doit comprendre le domaine qu'il étudie. On appelle cela les "connaissances métier".</p>
<p>Ainsi, en travaillant pour la FAO, il va falloir vous documenter sur la problématique de la faim dans le monde.</p>
<aside data-claire-semantic="warning">
<p><em>Effectuez de très brèves recherches en vue d'identifier certaines causes de la faim. Vous les présenterez en introduction de votre soutenance.</em> </p>
</aside>
<h4>Téléchargez les données</h4>
<p>L’interface du site de la FAO permet de sélectionner les types de données que vous souhaitez télécharger. Comme le volume de celles-ci est important, l’interface permet un premier filtrage selon les pays (ou groupements de pays et régions du monde), les années, les éléments, les produits (et groupements de produits : céréales, produits animaux, etc.)</p>
<aside data-claire-semantic="information">
<p>Il vous faudra prendre un peu de temps pour familiariser avec cette interface. Avant de télécharger les fichiers CSV, il est possible de tester votre filtrage grâce à l’option de prévisualisation (bouton “Montrer les données”).</p>
</aside>
<p><br>Les termes employés dans ces données sont en général définis en expliqués dans la partie <em>Définitions en Standards</em>. Bonne nouvelle, tout est traduit en français ! :honte: N’hésitez pas à aller y faire un tour, car un Data Analyst ne doit pas se contenter de connaître les statistiques et l’informatique. En effet, s’il ne connaît pas le métier et le domaine auquel il applique ses analyses, alors son travail est bien plus compliqué !</p>
<p>La FAO sépare ses données en 2 catégories de produits alimentaires distincts : les produits issus des animaux et ceux issus de végétaux.</p>
<aside data-claire-semantic="information">
<p>Aller chercher la donnée puis la formater n’est (de loin) pas la partie la plus amusante, ni la plus simple. Elle n’en reste pas moins nécessaire. Parlez-en à votre mentor, il connait cela ! Allez, courage ! ;)</p>
</aside>
<aside data-claire-semantic="warning">
<p>Mais au fait, quelles données devez-vous télécharger ? Eh bien… je resterai évasif et vous répondrai simplement : <em>Toutes les données dont vous aurez besoin pour remplir les différentes missions de ce projet</em> ! </p>
</aside>
<h4>Identifiez les grandes tendances</h4>
<p>Une fois les fichiers CSV téléchargés, il vous faudra les charger dans R ou Python, afin d’identifier les grandes tendance et vous familiariser avec le jeu de données.</p>
<p>Pour chacune des tables téléchargées, identifiez les possibles Clé Primaires (et testez-les). Cette étape vous permettra de comprendre la "structure" de vos tables, et vous sera utile lorsque vous aurez à effectuer des jointures.</p>
<p>On commence !</p>
<ul>
<li>Créez un <em>dataframe</em> contenant les informations de population de chaque pays. Calculez le nombre total d’humains sur la planète. Critiquez votre résultat. En cas d’anomalie, analysez et effectuer les corrections nécessaires.</li>
</ul>
<div data-claire-semantic="question">
<p>A faire : donnez le résultat de votre calcul pour l'année 2013, ainsi que pour la dernière année disponible au jour où vous effectuez ce projet.</p>
</div>
<ul>
<li>Parmi les documents sur les <em>Bilans alimentaires</em> que vous avez téléchargés, il y a des informations redondantes :</li>
</ul>
<blockquote>
<p>- Production (Production)<br>- Importations (Import Quantity)<br>- Exportations (Export Quantity)<br>- Variation de stock (Stock Variation)<br>- Disponibilité intérieure (Domestic supply)<br>- Semences (Seed)<br>- Pertes (Waste)<br>- Nourriture (Food)<br>- Aliments pour animaux (Feed)<br>- Traitement (Processed)<br>- Autres utilisations (Other uses)</p>
</blockquote>
<div data-claire-semantic="question">
<p>A faire : Identifiez ces redondances</p>
</div>
<ul>
<li>Calculez (pour chaque pays et chaque produit) la disponibilité alimentaire en kcal. Vous le ferez à partir de ces informations :</li>
</ul>
<blockquote>
<p>- Population de chaque pays ;</p>
<p>- Disponibilité alimentaire <em>("Food Supply" en anglais)</em> donnée pour chaque produit et pour chaque pays en kcal/personne/jour ,</p>
</blockquote>
<ul>
<li>A partir de cette dernière information, et à partir du poids de la disponibilité alimentaire (pour chaque pays et chaque produit), calculez pour chaque produit le ratio "énergie/poids", que vous donnerez en kcal/kg.</li>
</ul>
<div data-claire-semantic="question">
<p>A faire : Donnez le ratio <em>énergie/poids</em> pour 5 produits de votre choix.</p>
</div>
<ul>
<li>A partir de l'information sur la disponibilité alimentaire en kcal (par pays et par produit) que vous avez déterminée, calculez, pour les produits végétaux <strong>uniquement,</strong> la production mondiale exprimée en kcal.</li>
<li>Renseignez-vous sur la recommandation de la FAO concernant le nombre de calories par jour nécessaire à un être humain (Allez zou, on recherche sur internet ! ^^).</li>
</ul>
<div data-claire-semantic="question">
<p>Question : en terme de production de produits végétaux, combien d'humains pourraient être nourris si toute la production végétale était utilisée pour de la nourriture ?</p>
</div>
<div data-claire-semantic="question">
<p>Question : en terme de production de produits végétaux, combien d'humains pourraient être nourris si la production végétale, mis à part ses utilisations en <em>Semence</em>, <em>Traitement</em> et <em>Autres utilisation</em>, était utilisée pour de la nourriture ?</p>
</div>
<aside data-claire-semantic="warning">
<p>Donnez les 2 résultats précédentes pour l'année 2013 ainsi que pour la dernière année disponible.</p>
</aside>
<div data-claire-semantic="question">
<p>A partir des données téléchargées qui concernent la sous-nutrition, répondez à cette question : Quelle proportion de la population mondiale est considérée comme étant en sous-nutrition ? (Donnez ce résultat pour l'année 2013 ainsi que pour la dernière année disponible).</p>
</div>
<ul>
<li>Établissez la liste des produits (ainsi que leur code) considéré comme des <strong>céréales</strong> selon la FAO.</li>
<li>Sélectionnez (filtrez) dans vos données les informations concernant les <strong>céréales</strong> qui partent pour l'alimentation animale (<em>en anglais : Feed</em>).</li>
<li>A l'aide de la table donnant les ratios <em>énergie/poids</em> de chaque aliment (que vous avez établie précédemment), convertir ces données (filtrées) en kcal.</li>
<li>De la même manière que vous avez calculé la table des ratios <em>énergie/poids </em>, calculez les ratios <em>poids de protéines/poids total,</em> puis convertissez ces données (filtrées) en terme de protéines (unité : <em>gramme</em>).</li>
</ul>
<div data-claire-semantic="question">
<p>Question : quelle proportion (en terme de poids) de la disponibilité mondiale de céréales est destinée à l'alimentation animale ?</p>
</div>
<ul>
<li>Avec l'aide des tables <em>énergie/poids</em> et <em>poids de protéines/poids total, </em>calculez la disponibilité mondiale totale de produit <strong>animaux</strong>, que vous exprimerez en <em>kcal</em> et en <em>grammes de protéines.</em></li>
<li>Calculez les 3 valeurs du ratio suivant, lorsque les quantités sont exprimées en <em>kg</em>, puis en <em>kcal</em>, puis en <em>grammes de protéines</em> :</li>
</ul>
<p>Disponibilité de céréales destinée à l'alimentation animale / Disponibilité animale destinée à l'alimentation humaine</p>
<div data-claire-semantic="question">
<p> Question : Combien de kg de céréales sont nécessaires pour produire 1kg de viande ?</p>
</div>
<h4>Entrez vos données dans une base de données relationnelle</h4>
<p>Bon, finis les calculs mathématiques :'(, passons à de la technique, de la vraie !</p>
<p>Transformez vos données en un format propice à l’utilisation souhaitée par les utilisateurs finaux, qui utiliserons votre base via le langage SQL. Une fois les données correctement formatées, vous les intégrerez dans une base de données.</p>
<aside data-claire-semantic="information">
<p>Le choix de la technologie utilisée est libre. Vous en trouverez un petit tour d'horizon dans le chapitre<a href="/courses/comprendre-le-web/les-bases-de-donnees-7"> Les bases de données</a> du cours <em>Comprendre le web</em>.</p>
<p>Si vous n'avez jamais utilisé de système de gestion de base de données relationnelles (SGBR), nous vous conseillons d'utiliser <em>SQL-lite</em>. Pour savoir comment l'utiliser, la vidéo de <a href="/courses/initiez-vous-a-lalgebre-relationnelle-avec-le-langage-sql/comprenez-les-bases-de-donnees-sql">ce chapitre</a> peut vous être utile.</p>
<p>Si vous êtes plus aventurier :pirate:, un cours sur <a href="/courses/administrez-vos-bases-de-donnees-avec-mysql">la technologie <em>MySQL</em></a> est également disponible sur OpenClassrooms : les chapitres utiles seront les 10 premiers (de <em>Introduction</em> à <em>Suppression et modification de données</em>).</p>
</aside>
<p>Votre base devra contenir ces différentes tables :</p>
<ul>
<li>Une table appelée <strong>population</strong>, contenant l<em>a population de chaque pays pour chaque année comprise entre 2010 et la dernière année disponible à la date où vous aurez consulté le site de la FAO. Elle devra contenir 4 c</em>olonnes : <strong>pays</strong>, <strong>code_pays</strong>, <strong>annee</strong>, <strong>population</strong>.</li>
</ul>
<div data-claire-semantic="question">
<p>A faire : Proposez une clé primaire pertinente pour cette table.</p>
</div>
<ul>
<li>Une table appelée <strong>dispo_alim</strong> contenant pour chaque pays, pour chaque produit, et pour chaque année comprise entre 2010 et la dernière année disponible, les informations suivantes:</li>
</ul>
<blockquote>
<p>- la nature du produit (deux valeurs possibles : “animal” ou “végétal”)<br>- disponibilité alimentaire en tonnes<br>- disponibilité alimentaire en Kcal/personne/jour<br>- disponibilité de protéines en g/personne/jour<br>- disponibilité de matières grasses en g/personne/jour</p>
</blockquote>
<ul>
<li>Elle devra contenir ces colonnes : pays, code_pays, année, produit, code_produit, dispo_alim_tonnes, dispo_alim_kcal_p_j, dispo_prot, dispo_mat_gr .</li>
</ul>
<div data-claire-semantic="question">
<p>Question : Proposez une clé primaire pertinente pour cette table.</p>
</div>
<ul>
<li>Une table appelée <strong>equilibre_prod</strong> contenant pour chaque pays, pour chaque produit, et pour chaque année comprise entre 2010 et la dernière année disponible, les quantités suivantes :</li>
</ul>
<blockquote>
<p>- disponibilité intérieure<br>- aliments pour animaux<br>- semences<br>- pertes<br>- transformés<br>- nourriture<br>- autres utilisations</p>
</blockquote>
<ul>
<li>Elle devra contenir ces colonnes : pays, code_pays, année, produit, code_produit, dispo_int, alim_ani, semences, pertes, transfo, nourriture, autres_utilisations.</li>
</ul>
<div data-claire-semantic="question">
<p>Question : Proposez une clé primaire pertinente pour cette table.</p>
</div>
<ul>
<li>Une table appelée <strong>sous_nutrition</strong>, contenant le nombre de personnes en sous-alimentation pour chaque pays et pour chaque année comprise entre 2010 et la dernière année disponible. Elle devra contenir 4 colonnes : <strong>pays</strong>, <strong>code_pays</strong>, <strong>année</strong>, <strong>nb_personnes</strong>.</li>
</ul>
<div data-claire-semantic="question">
<p>Question : Vous vous en doutez... proposez encore une fois une clé primaire pertinente pour cette table !</p>
</div>
<div data-claire-semantic="question">
<p>A faire : Écrivez les requêtes SQL permettant de connaître…</p>
<ul>
<li>Les 10 pays ayant le plus haut ratio <strong>disponibilité alimentaire/habitant </strong>en terme de protéines (en kg) par habitant, puis en terme de kcal par habitant.</li>
<li>Les 10 pays ayant le plus faible ratio <strong>disponibilité alimentaire/habitant</strong> en terme de protéines (en kg) par habitant, puis en terme de kcal par habitant.</li>
<li>Les 10 pays pour lesquels la proportion de personnes sous-alimentées est la plus forte.</li>
<li>Les 10 produits pour lesquels le ratio <strong>Autres utilisations/Disponibilité intérieure</strong> est le plus élevé.</li>
</ul>
</div>
<div data-claire-semantic="question">
<p>Question : pour quelques uns des produits identifiés dans cette dernière requête SQL, supposez quelles sont ces "autres utilisations" possibles (recherchez sur internet !)</p>
</div>
<h3>Livrables attendus</h3>
<p>Voici les livrables attendus, que vous transmettrez dans une archive .ZIP :</p>
<ul>
<li>Le code en R ou en Python qui vous a permis de calculer les réponses aux questions</li>
<li>Le code en R, Python et/ou SQL vous ayant permis d'enregistrer les données dans la base de données</li>
<li>Les requêtes SQL vous ayant permis de répondre aux questions</li>
</ul>
<h3> </h3>
<h3>Modalités de la soutenance</h3>
<p>Voici le déroulé indicatif de votre soutenance :</p>
<table style="width: 708px;">
<tbody>
<tr>
<td style="width: 51.2px;">5 min</td>
<td style="width: 610.8px;">Mise en contexte</td>
</tr>
<tr>
<td style="width: 51.2px;">5 min</td>
<td style="width: 610.8px;">Détaillez des données téléchargées : combien de fichiers CSV, pour chacun d’entre eux, quelles options ont été sélectionnées sur l’interface de la FAO, etc.</td>
</tr>
<tr>
<td style="width: 51.2px;">5 min</td>
<td style="width: 610.8px;">Détaillez des opérations d’algèbre relationnelles vous ayant permis de répondre aux questions posées. Donnez également les réponses trouvées.</td>
</tr>
<tr>
<td style="width: 51.2px;">5 min</td>
<td style="width: 610.8px;">Détaillez les opérations menées pour entrer les données dans la base de données. Donnez également les clés primaires que vous avez choisies.</td>
</tr>
<tr>
<td style="width: 51.2px;">5 min</td>
<td style="width: 610.8px;">Expliquez les requêtes SQL que vous avez rédigées, et présentez leurs résultats (que vous aurez préalablement mis sous forme de capture d'écran ou de fichier exporté en CSV, au cas où la démonstration en direct ne fonctionne pas).</td>
</tr>
<tr>
<td style="width: 51.2px;">5 min</td>
<td style="width: 610.8px;">Lancez en direct vos requêtes SQL dans votre SGBDR, et commentez les résultats.</td>
</tr>
</tbody>
</table>
<p> </p>
<h3>Ressources complémentaires</h3>
<h4>En R</h4>
<p><a href="https://www.rstudio.com/resources/cheatsheets/">https://www.rstudio.com/resources/cheatsheets/</a></p>
<ul>
<li>De nombreux pense-bêtes, très utile pour avoir l’essentiel des fonctions importantes des grands packages d’analyse de données en R.</li>
</ul>
<p><a href="https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html">https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html</a></p>
<ul>
<li>Introduction complète de dplyr en anglais.</li>
</ul>
<p><a href="http://informatique-mia.inra.fr/r4ciam/ODBC.html#req">http://informatique-mia.inra.fr/r4ciam/ODBC.html#req</a></p>
<ul>
<li>Exemples d’insertion de données dans une base SQL en R via le package RODBC.</li>
</ul>
<h4><br>En Python</h4>
<p><a href="http://apprendre-python.com/page-database-data-base-donnees-query-sql-mysql-postgre-sqlite">http://apprendre-python.com/page-database-data-base-donnees-query-sql-mysql-postgre-sqlite</a></p>
<ul>
<li>Cours très bien fait sur l’interaction avec une base SQL en Python.</li>
</ul>
</div>
<div class="userContent userContent--smallCourse">
<h2>
Compétences à valider
</h2>
<ul>
<li>
Appliquer l'algèbre relationnelle en R ou Python
</li>
<li>
Utiliser une documentation technique
</li>
<li>
Utiliser les librairies orientées Data Science
</li>
<li>
Maîtriser les bases de R ou Python
</li>
<li>
Effectuer des requêtes complexes en SQL
</li>
<li>
Appréhender l’importance de la “connaissance métier” dans l’activité de Data Analyst
</li>
</ul>
</div>
</div>